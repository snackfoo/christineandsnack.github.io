(()=>{var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};(()=>{"use strict";const r=window.wp.domReady;var c=e.n(r);const o=()=>window.location.href!==window.parent.location.href,t="starter-templates-iframe-preview-data",i=()=>{let e="";const t=document.querySelector(".site-logo-img img");return t&&(e=t.src),e};let n=i();const a=(e,t)=>{if(!e)return"";if(e){const n=e.match(/'([^']+)'/);return n?n[1]:"inherit"===e?t:e}return t||void 0},s=e=>{switch(e.value.param){case"siteLogo":const o=document.querySelectorAll(".site-logo-img img");""===n&&(n=i());let t=e.value.data.url||n;if(t=e.value.data.dataUri||t,0===o.length&&""!==t){const o=document.createElement("span");o.classList.add("site-logo-img");const n=document.createElement("a");n.setAttribute("class","custom-logo-link"),n.setAttribute("href","#"),n.setAttribute("aria-current","page"),o.appendChild(n);const s=document.createElement("img");s.classList.add("custom-logo"),s.setAttribute("src",t),n.appendChild(s);const a=document.getElementById("ast-desktop-header").querySelectorAll(".ast-site-identity")[0],r=a.querySelectorAll(".ast-site-title-wrap")[0];a.insertBefore(o,r);const i=e.value.data.width||"";""!==i&&(s.style.width=i+"px",s.style.maxWidth=i+"px")}else if(""!==t)for(const[i,n]of Object.entries(o)){n.removeAttribute("srcset"),n.setAttribute("src",t);const s=e.value.data.width;""!==s&&(n.style.width=s+"px",n.style.maxWidth=s+"px")}break;case"colorPalette":const r=e.value.data.colors||[],d=starter_templates_zip_preview.AstColorPaletteVarPrefix,u=starter_templates_zip_preview.AstEleColorPaletteVarPrefix;if(0===r.length){document.querySelector("body").classList.remove("starter-templates-preview-palette");const e=document.getElementsByClassName("starter-templates-preview-palette");return void(e.length>0&&e[0].remove())}document.querySelector("body").classList.add("starter-templates-preview-palette");const h=Object.entries(r).map((e,t)=>[`--e-global-color-${u[t].replace(/-/g,"")}: ${e[1]};`,`${d}${t}: ${e[1]};`]).map(e=>e.join("")).join("");let s=document.getElementById("starter-templates-preview-palette-css");s||(s=document.createElement("style"),s.id="starter-templates-preview-palette-css",s.setAttribute("rel","stylesheet"),document.head.appendChild(s)),s.innerHTML=`.starter-templates-preview-palette{ ${h} }`;break;case"siteTypography":if(!Object.keys(e.value.data).length){const e=document.getElementById("starter-templates-typography");return void(e&&e.remove())}(e=>{if(!e)return;if(!document.getElementById("google-fonts-domain")){const e=document.createElement("link");e.id="google-fonts-domain",e.setAttribute("rel","preconnect"),e.setAttribute("href","https://fonts.gstatic.com"),document.head.appendChild(e)}let n=document.getElementById("st-previw-google-fonts-url");n||(n=document.createElement("link"),n.id="st-previw-google-fonts-url",n.setAttribute("rel","stylesheet"),document.head.appendChild(n));const r=[];let t=e["body-font-family"]||"",o=parseInt(e["body-font-weight"])||"";o&&(o=`:wght@${o}`),t&&(t=a(t),t=t.replace(" ","+"),r.push(`family=${t}${o}`));let s=e["headings-font-family"]||"",i=parseInt(e["headings-font-weight"])||"";i&&(i=`:wght@${i}`),s&&(s=a(s,t),s=s.replace(" ","+"),r.push(`family=${s}${i}`));const c=`https://fonts.googleapis.com/css2?${r.join("&")}&display=swap`;n.setAttribute("href",c)})(e.value.data),(e=>{if(!e)return;let n=document.getElementById("starter-templates-typography");n||(n=document.createElement("style"),n.id="starter-templates-typography",n.setAttribute("rel","stylesheet"),document.head.appendChild(n));let t="";t+="body, button, input, select, textarea, .ast-button, .ast-custom-button {",t+="	font-family: "+e["body-font-family"]+";",t+="	font-weight: "+e["body-font-weight"]+";",t+="	font-size: "+e["font-size-body"].desktop+e["font-size-body"]["desktop-unit"]+";",t+="	line-height: "+e["body-line-height"]+";",t+="}",t+="h1, .entry-content h1, h2, .entry-content h2, h3, .entry-content h3, h4, .entry-content h4, h5, .entry-content h5, h6, .entry-content h6, .site-title, .site-title a {",t+="	font-family: "+e["headings-font-family"]+";",t+="	line-height: "+e["headings-line-height"]+";",t+="	font-weight: "+e["headings-font-weight"]+";",t+="}",["h1","h2","h3","h4","h5","h6"].forEach(n=>{const o="inherit"===e["font-family-"+n]?e["headings-font-family"]:e["font-family-"+n],i="inherit"===e["font-weight-"+n]?e["headings-font-weight"]:e["font-weight-"+n];let s="";void 0!==o&&""!==o&&(s+=`${n}, .entry-content ${n} {`,s+="	font-family: "+o+";"),void 0!==e["line-height-"+n]&&""!==e["line-height-"+n]&&(s+="	line-height: "+e["line-height-"+n]+";"),void 0!==i&&""!==i&&(s+="	font-weight: "+i+";"),t+=""!==s?s+"}":""}),n.innerHTML=t})(e.value.data);break;case"siteTitle":(e=>{const t=document.getElementById("ast-desktop-header"),n=t&&t.querySelectorAll(".ast-site-identity")[0],s=n&&n.querySelectorAll(".ast-site-title-wrap")[0];s&&(s.style.display=e?"block":"none")})(e.value.data);break;case"clearPreviewAssets":const c=document.getElementById("starter-templates-typography");c&&c.remove(),document.querySelector("body").classList.remove("starter-templates-preview-palette");const l=document.getElementsByClassName("starter-templates-preview-palette");l.length>0&&l[0].remove();break;case"completeOnboarding":localStorage.removeItem("starter-templates-iframe-preview-data")}};window.addEventListener("message",function(e){if(o()&&(console.log("addEventListener message: ",e),"object"==typeof e.data&&"starterTemplatePreviewDispatch"===e.data.call)){const o=e.data;let n=JSON.parse(localStorage.getItem(t));null===n&&(n={},n.data={}),n.data[o.value.param]=o.value.data,delete n.data.clearPreviewAssets,o.url=window.location.origin,n.url=window.location.origin,"cleanStorage"===o.value.param?(delete n.data.cleanStorage,n.data.siteLogo=o.value.data,n.data.colorPalette={},n.data.siteTypography={},Object.keys(n.data).map(e=>s({value:{param:e,data:n.data[e]}}))):s(o),localStorage.setItem(t,JSON.stringify(n))}},!1),c()(()=>{if(!o())return;const e=document.createElement("style");e.id="starter-templates-logo-css",document.getElementsByTagName("head")[0].appendChild(e),e.innerHTML=".site-logo-img img { transition: unset; } #wpadminbar { display: none; } html{  margin-top: 0 !important; }}";const n=(i=t,JSON.parse(localStorage.getItem(i)));var i;n&&Object.keys(n.data).map(e=>s({value:{param:e,data:n.data[e]}}))})})()})()